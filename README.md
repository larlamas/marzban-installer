<p align="center">
  <img src="https://raw.githubusercontent.com/Gozargah/Marzban/master/app/dashboard/public/android-chrome-192x192.png" alt="Marzban Logo" width="100">
</p>

<h1 align="center">Marzban ‚Äî Custom Installer</h1>

<p align="center">
  –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ <a href="https://github.com/Gozargah/Marzban">Marzban</a> —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –¥–æ–º–µ–Ω–∞, Caddy –∏ TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
</p>

<p align="center">
  <img src="https://img.shields.io/badge/OS-Ubuntu%2020.04+-E95420?style=for-the-badge&logo=ubuntu&logoColor=white" alt="Ubuntu">
  <img src="https://img.shields.io/badge/OS-Debian%2011+-A81D33?style=for-the-badge&logo=debian&logoColor=white" alt="Debian">
  <img src="https://img.shields.io/badge/Docker-Required-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker">
  <img src="https://img.shields.io/badge/License-MIT-green?style=for-the-badge" alt="License">
</p>

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç [Marzban](https://github.com/Gozargah/Marzban) ‚Äî GUI-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏ –Ω–∞ –±–∞–∑–µ Xray. –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ **–¥–æ–º–µ–Ω**, –∏ —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–µ–±-–ø–∞–Ω–µ–ª—å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º —á–µ—Ä–µ–∑ Caddy.

### ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ | –£–∫–∞–∂–∏—Ç–µ –¥–æ–º–µ–Ω –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ ‚Äî –ø–∞–Ω–µ–ª—å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ `https://–≤–∞—à-–¥–æ–º–µ–Ω` |
| üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –û–° –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π |
| üîí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π TLS | Caddy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç |
| üîë –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è | 16-—Å–∏–º–≤–æ–ª—å–Ω—ã–π —Å–ª—É—á–∞–π–Ω—ã–π –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| üö™ –°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—Ç | HTTPS-–ø–æ—Ä—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ (50000‚Äì65535) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| üê≥ Docker | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker, –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω |
| ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è | –ü—Ä–æ–≤–µ—Ä–∫–∞ root-–ø—Ä–∞–≤, –û–° –∏ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–æ–º–µ–Ω–∞ |

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
sudo bash -c "$(wget -qO- https://raw.githubusercontent.com/larlamas/marzban-installer/main/install_marzban.sh)" _ panel.example.com
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
wget https://raw.githubusercontent.com/larlamas/marzban-installer/main/install_marzban.sh
chmod +x install_marzban.sh
sudo ./install_marzban.sh panel.example.com
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```bash
sudo ./install_marzban.sh
# –°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç –¥–æ–º–µ–Ω –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```

---

## ‚öôÔ∏è –ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

```
[1/8]  –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
[2/8]  –û—Ç–∫–ª—é—á–µ–Ω–∏–µ UFW (—Ñ–∞–π—Ä–≤–æ–ª)
[3/8]  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
[4/8]  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Marzban CLI
[5/8]  –ó–∞–≥—Ä—É–∑–∫–∞ docker-compose.yml –∏ xray_config.json
[6/8]  –ì–µ–Ω–µ—Ä–∞—Ü–∏—è .env —Å –¥–æ–º–µ–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º
[7/8]  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Caddy (—Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏ + TLS)
[8/8]  –ó–∞–ø—É—Å–∫ Marzban —á–µ—Ä–µ–∑ Docker Compose
```

---

## üìÅ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

| –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `/opt/marzban/.env` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Marzban (–ø–∞—Ä–æ–ª—å, –¥–æ–º–µ–Ω, –ø–æ—Ä—Ç) |
| `/opt/marzban/docker-compose.yml` | Docker Compose —Ñ–∞–π–ª |
| `/var/lib/marzban/xray_config.json` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Xray |
| `/var/lib/marzban/db.sqlite3` | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| `/etc/caddy/Caddyfile` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Caddy |

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
marzban logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
marzban restart

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
marzban update

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
marzban cli admin create --sudo

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø—Ä–∞–≤–∫–∏
marzban --help
```

---

## üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: Ubuntu 20.04+ –∏–ª–∏ Debian 11+
- **–ü—Ä–∞–≤–∞**: root (sudo)
- **–î–æ–º–µ–Ω**: DNS A-–∑–∞–ø–∏—Å—å –¥–æ–ª–∂–Ω–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **–ü–æ—Ä—Ç—ã**: 80 –∏ 443 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —Å–æ–∑–¥–∞–Ω–∞ **A-–∑–∞–ø–∏—Å—å** –≤ DNS:

```
panel.example.com  ‚Üí  123.45.67.89  (IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
```

---

## ‚ùì FAQ

<details>
<summary><b>–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?</b></summary>

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `/opt/marzban/.env`, –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `SUDO_PASSWORD`, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
marzban restart
```
</details>

<details>
<summary><b>–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –ø–∞–Ω–µ–ª–∏?</b></summary>

1. –ò–∑–º–µ–Ω–∏—Ç–µ `HTTPS_PORT` –≤ —Å–∫—Ä–∏–ø—Ç–µ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π, **–∏–ª–∏**
2. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/etc/caddy/Caddyfile` –∏ `/opt/marzban/.env`, –∑–∞—Ç–µ–º:
```bash
systemctl restart caddy
marzban restart
```
</details>

<details>
<summary><b>–ö–∞–∫ —É–¥–∞–ª–∏—Ç—å Marzban?</b></summary>

```bash
marzban uninstall
```
</details>

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](LICENSE).

---

<p align="center">
  –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ <a href="https://github.com/Gozargah/Marzban">Marzban</a> –æ—Ç Gozargah
</p>
